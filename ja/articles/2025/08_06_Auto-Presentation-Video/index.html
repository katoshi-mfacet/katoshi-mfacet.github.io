<!DOCTYPE html><html lang="ja"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width"><title>ブログ記事のプレゼン動画自動生成</title><meta name="description" content="本記事は、ブログ記事からプレゼン動画を自動生成する仕組みの構築について詳述している。その核心は、生成AIを用いてプレゼン資料を自動作成する部分にあり、特に文字や図形が中心となる資料作成の難しさを克服するために、SVG形式というテキストベースの表現形式が採用されている。SVG形式であれば、チャット型生成AIに指示することで資料を生成できる。しかし、生成AIは文字のはみ出し問題を引き起こしやすく、これを解決するために、指示文にルールや注意点を加える工夫、文字数の見積もりによる事前確認、そして生成されたSVGテキストの自動判定プログラムの開発といった多段階のアプローチが取られた。文字はみ出しを抑制する指示文の改善と、生成AIによるチェック、そして最終的な専用プログラムによる厳密なチェックを経て、問題のないプレゼン資料が生成される。NGの場合は資料を破棄し再生成する。資料完成後、ブログ記事からナレーション原稿を生成し、それを音声合成AIで音声化する。最後にSVG資料を画像に変換し、ffmpegを用いて音声と結合して動画を完成させる。この一連のプロセスは自動化されており、ワンクリックでプレゼン動画が生成可能である。筆者はこの開発を通して生成AI活用の勘所を掴んだが、GoogleのnotebookLMなど、同様の機能を持つAIサービスが今後登場することも予測している。"></head> <body style="margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;"> <header style="padding: 12px 16px; border-bottom: 1px solid #eee; display:flex; gap:12px; align-items:center;"> <a href="/ja/" style="text-decoration:none; font-weight:700;">🏠 Home</a> <nav style="display:flex; gap:8px; align-items:center;"> <span style="opacity:.7;">Language:</span> <a href="/ja/" style="text-decoration:underline;">ja</a> </nav> </header> <main style="max-width: 980px; margin: 24px auto; padding: 0 16px;">  <article class="prose"> <h1 id="ブログ記事のプレゼン動画自動生成">ブログ記事のプレゼン動画自動生成</h1>
<p><a href="https://youtu.be/vmt_WVBJMj4?si=OZlzEqfEvWjPakYV">https://youtu.be/vmt_WVBJMj4?si=OZlzEqfEvWjPakYV</a></p>
<p>ブログの記事から、生成AIを使ってプレゼン動画を自動作成してYouTubeに投稿する仕組みを作りました。</p>
<p>生成AIにプレゼンのストーリーを考えさせるだけでなく、プレゼン資料を作ることも、工夫をすれば可能です。</p>
<p>また、プレゼンで話す内容の原稿を生成させて、その原稿を声で喋る生成AIに読ませれば、音声データも生成できます。</p>
<p>そして、プレゼン資料と音声データを合わせれば、動画ができあがります。</p>
<p>これらの一連の作業を自動化することで、ワンクリックでプレゼン動画を自動生成できるようになりました。</p>
<h2 id="仕組み">仕組み</h2>
<p>1番のポイントは、プレゼン資料を生成する部分です。</p>
<p>生成AIは、画像を生成することは得意ですが、それは写真や絵のようなものに限ります。プレゼン資料のように文字や図形が中心の資料を作ることは、画像を生成するAIでは作成が困難です。</p>
<p>そこで、文字や図形が中心の資料をプログラミング言語のようにテキストで表現できる形式で生成しています。</p>
<p>こうした資料を作成するための形式はいくつかあります。</p>
<p>初めはプレゼン資料の作成用のmarpという形式で試したのですが、できることが限られてしまうため、SVG形式というより一般的な図形描画用の形式を用いることにしました。</p>
<p>こうしたテキストで表現できる形式であれば、通常のチャット型の生成AIに「このブログ記事の内容を紹介するプレゼン資料をSVG形式で作成してください」と依頼すれば、作成できます。</p>
<h2 id="文字のはみ出し問題">文字のはみ出し問題</h2>
<p>ここで問題になるのは、文字が頻繁に資料の外枠や、資料内の図形の枠からはみ出してしまうことです。</p>
<p>人間なら出来上がった資料を見て、すぐにはみ出している箇所に気がつきます。しかし、出来上がった資料の目視確認でなく、SVG形式のテキストの段階では、文字が枠や図形からはみ出していることを気づくことは困難です。</p>
<p>このため、チャット型の生成AIは、頻繁に文字がはみ出しているような資料を生成してしまいます。</p>
<p>もちろん、大部分は上手く生成してくれるので、そうした文字のはみ出しを、私が修正すれば上手くいくのですが、それだと毎回私の手作業が生じてしまいます。</p>
<p>そこで、文字のはみ出さないようにしながらSVG形式の資料を生成させる工夫を加えつつ、生成されたSVGに文字のはみ出しがないことを自動判定する仕組みが必要になりました。</p>
<p>文字がはみ出さないようにする工夫は、生成AIにプレゼン資料を作るように指示する際に、基本的なルール、作業手順、注意点の説明を加えるというアプローチを取りました。</p>
<p>ルールとして、複雑な図形を使わないように指示をしたり、文字のフォントサイズを固定したりします。</p>
<p>その上で、資料内の文に含まれる文字数を数えて、フォントサイズと掛け合わせて横幅と高さを見積もり、枠や図形からはみ出さないことを事前に確認する、という作業手順を指示しています。</p>
<p>この際に、このチェックした過程と結果を、SVGファイル内に事前検討のコメントとして記録していくことを指示しました。</p>
<p>こうした指示を加えると、少しは改善されるのですが、初めから満足できる精度にはなりません。そこで繰り返し何種類も作成させ、ミスをしやすい部分を指示に注意点として加えたり、ルールや指示が守られていなければ、指示の文章の中で繰り返し強調したりしていきました。</p>
<p>この試行錯誤による指示文の改善を繰り返していくと、ある程度まで文字のはみ出しを抑えることができます。</p>
<p>ただしどこまで工夫しても完璧にはできないため、後工程でチェックするようにしました。</p>
<p>この後工程でのチェックに、画像を目視することができる生成AIを使って見たのですが、なかなか上手くはみ出し検出できなかったため、このアプローチは諦めました。</p>
<p>次に、SVGのテキストを再度チャット型の生成AIに入力して、チェックさせるというやり方も試しました。</p>
<p>こちらは画像の目視型の生成AIよりもはみ出しを検出しやすかったのですが、それでも検出精度はそれほど高くありませんでした。ここでも、はみ出しを検出する指示を試行錯誤的に改善することで、ある程度の精度にはできるのですが、完全なレベルにはできません。</p>
<p>そこで、さらに厳密に文字のはみ出しを検出するプログラムを作って検査することにしました。これは、生成AIに指示していたように、プレゼン資料の中の文の長さとフォントサイズから、幅と高さを計算して、資料の枠や中の図形からはみ出していないことをチェックする、というプログラムです。</p>
<p>このプログラムの作成は骨が折れましたが、最終的には上手く判定できるようになりました。</p>
<p>また、文字はみ出し以外にも、複雑な図表を作成しようとして崩れた図表を出力するケースもありましたので、そうした観点はチャット型の生成AIにチェックさせるというアプローチを残しました。</p>
<p>これは、ルールに定めた以上の複雑な図形を作成していたらNGとする、という形でのチェックです。</p>
<p>このプログラムでのはみ出しチェックと、生成AIによるルール違反のチェックの仕組みで、概ね問題は検出することができるようになりました。</p>
<h2 id="以降の処理">以降の処理</h2>
<p>こうしたチェックでNGが検出されたら、作成したSVG形式の資料は破棄して、再生成させるようにしています。
問題の箇所を指摘して修正させても、別の問題が引き起こされることが多く、かえって時間がかかるためです。
問題の箇所を指摘して修正させても、別の問題が引き起こされることが多く、却って時間がかかるためです。</p>
<p>こうして、文字のはみ出しがないプレゼン資料が完成したら、あとはこの資料と元のブログ記事を入力して、生成AIにナレーションの文を作成させます。ここには特に工夫は必要ありませんでした。</p>
<p>そして、ナレーションの文を、text to speechと呼ばれる音声で喋る生成AIを使って音声データにします。ここも特に工夫はありません。</p>
<p>最後に、SVG形式のプレゼン資料をPNG形式の画像に変換し、ffmpegというツールを使って音声付きのmp4形式の動画に変換すれば完成です。</p>
<p>SVG形式のスライド作成以降の一連の処理は、生成AIに質問しながら進めれば、簡単に自動化するプログラムを作成することができます。</p>
<h2 id="さいごに">さいごに</h2>
<p>こうしたプレゼン動画の自動生成の仕組みを自作して、上手く使えるものにできたので、先週からYouTubeに実際に動画を公開し始めました。</p>
<p>ただ、ちょうどこの仕組みが完成した直後に、GoogleのnotebookLMというAIツールにも、同じようにテキスト資料を解説する動画を自動生成する機能が追加されました。</p>
<p>このため、今後はこうした仕組みを自作しなくても、AIサービスを手がけている企業が、類似のサービスを出してくることが予想されます。</p>
<p>一方で、こうして自分なりに本格的に生成AIを駆使した実用的なプログラムを開発してみたことで、生成AI活用の勘所をつかむことができたというのは大きな成果でした。</p> </article> <section style="margin-top:2rem;"> <h2>Related</h2> <ul> <li><a href="/ja/articles/[object Object]">[object Object]</a></li><li><a href="/ja/articles/[object Object]">[object Object]</a></li><li><a href="/ja/articles/[object Object]">[object Object]</a></li><li><a href="/ja/articles/[object Object]">[object Object]</a></li> </ul> </section> </main> <footer style="padding: 24px 16px; border-top: 1px solid #eee; opacity:.7;"> <small>Built with Astro</small> </footer> </body></html>